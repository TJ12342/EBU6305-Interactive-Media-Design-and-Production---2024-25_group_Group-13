<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="test.pageTitle">Tests - Quadratic Equations & Parabolas</title>
    <link rel="stylesheet" href="../common/styles/main.css">
    <link rel="stylesheet" href="../common/styles/dark-mode.css">
    <link rel="stylesheet" href="styles/test.css">
    <script src="../common/scripts/i18n.js" defer></script>
    <!-- Ê∑ªÂä†Ë∞ÉËØïÂäüËÉΩ -->
    <script>
        // Ë∞ÉËØïËæÖÂä©ÂáΩÊï∞
        window.debugTest = {
            // ÊòæÁ§∫ÂΩìÂâçÊµãËØïÁä∂ÊÄÅ
            showTestState: function() {
                if (typeof currentTest !== 'undefined') {
                    console.log('ÂΩìÂâçÊµãËØïÁä∂ÊÄÅ:', JSON.parse(JSON.stringify(currentTest)));
                } else {
                    console.log('ÂΩìÂâçÊµãËØïÁä∂ÊÄÅ‰∏çÂèØÁî®');
                }
            },
            // ÊòæÁ§∫ÊâÄÊúâÈ¢òÁõÆÊï∞ÊçÆ
            showAllQuestions: function() {
                if (typeof testQuestions !== 'undefined') {
                    console.log('ÊâÄÊúâÈ¢òÁõÆÊï∞ÊçÆ:', JSON.parse(JSON.stringify(testQuestions)));
                } else {
                    console.log('È¢òÁõÆÊï∞ÊçÆ‰∏çÂèØÁî®');
                }
            },
            // ÊâãÂä®Ëß¶ÂèëÁøªËØë
            triggerTranslation: function() {
                if (typeof translateTestQuestions === 'function') {
                    console.log('ÊâãÂä®Ëß¶ÂèëÈ¢òÁõÆÁøªËØë');
                    translateTestQuestions();
                    // Â¶ÇÊûúÊúâÂΩìÂâçÈóÆÈ¢òÔºåÈáçÊñ∞ÊòæÁ§∫
                    if (typeof currentTest !== 'undefined' && 
                        currentTest.questions && 
                        currentTest.questions.length > 0 &&
                        typeof showQuestion === 'function') {
                        showQuestion(currentTest.currentQuestionIndex);
                    }
                } else {
                    console.log('ÁøªËØëÂáΩÊï∞‰∏çÂèØÁî®');
                }
            },
            // Ëé∑ÂèñÂΩìÂâçËØ≠Ë®Ä
            getCurrentLanguage: function() {
                const langSelect = document.getElementById('language');
                if (langSelect) {
                    console.log('ÂΩìÂâçËØ≠Ë®Ä:', langSelect.value);
                    return langSelect.value;
                }
                console.log('Êó†Ê≥ïËé∑ÂèñÂΩìÂâçËØ≠Ë®Ä');
                return null;
            },
            // ÂàáÊç¢ËØ≠Ë®Ä
            switchLanguage: function(lang) {
                const langSelect = document.getElementById('language');
                if (langSelect && (lang === 'en' || lang === 'zh')) {
                    langSelect.value = lang;
                    // Ëß¶Âèëchange‰∫ã‰ª∂
                    const event = new Event('change');
                    langSelect.dispatchEvent(event);
                    console.log('ËØ≠Ë®ÄÂ∑≤ÂàáÊç¢Âà∞:', lang);
                } else {
                    console.log('Êó†Ê≥ïÂàáÊç¢ËØ≠Ë®ÄÔºåËØ∑ÊåáÂÆö "en" Êàñ "zh"');
                }
            }
        };
    </script>
</head>
<body>
    <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
    <header>
        <div class="logo">
            <h1 data-i18n="nav.home">Quadratic Equations & Parabolas</h1>
        </div>
        <nav>
            <ul>
                <li><a href="../../index.html" data-i18n="nav.home">Home</a></li>
                <li><a href="../learning/learning.html" data-i18n="nav.learning">Learning</a></li>
                <li><a href="../game/game.html" data-i18n="nav.game">Games</a></li>
                <li><a href="test.html" class="active" data-i18n="nav.test">Tests</a></li>
                <li><a href="../community/community.html" data-i18n="nav.community">Community</a></li>
            </ul>
        </nav>
        
        <div class="utility-buttons">
            <!-- ÊöóÈªëÊ®°ÂºèÂàáÊç¢ -->
            <div class="dark-mode-toggle">
                <button id="dark-mode-btn" data-i18n="common.darkMode" aria-label="Toggle dark mode">üåì</button>
            </div>
            <!-- ËØ≠Ë®ÄÂàáÊç¢ -->
            <div class="language-selector">
                <label for="language" class="visually-hidden" data-i18n="common.selectLanguage">Select Language</label>
                <select id="language" aria-label="Select language">
                    <option value="en" data-i18n="common.english">English</option>
                    <option value="zh" data-i18n="common.chinese">‰∏≠Êñá</option>
                </select>
            </div>
        </div>
    </header>

    <!-- ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü -->
    <main class="test-container">
        <!-- ÂØºËà™Èù¢ÂåÖÂ±ë -->
        <div class="breadcrumb">
            <a href="../../index.html" data-i18n="nav.home">Home</a> > <span data-i18n="nav.test">Tests</span>
        </div>
        
        <!-- ÊµãËØï‰ªãÁªç -->
        <section class="test-intro">
            <h2 data-i18n="test.intro.title">Knowledge Assessment</h2>
            <p data-i18n="test.intro.description">Test your understanding of quadratic equations and parabolas. This assessment includes various question types and will provide detailed analysis and recommendations upon completion.</p>
            
            <div class="difficulty-selection">
                <h3 data-i18n="test.difficulty.title">Select Difficulty</h3>
                <div class="difficulty-buttons">
                    <button class="difficulty-btn" data-difficulty="easy">
                        <span data-i18n="test.difficulty.easy">Easy</span>
                    </button>
                    <button class="difficulty-btn" data-difficulty="medium">
                        <span data-i18n="test.difficulty.medium">Medium</span>
                    </button>
                    <button class="difficulty-btn" data-difficulty="hard">
                        <span data-i18n="test.difficulty.hard">Hard</span>
                    </button>
                </div>
            </div>
            
            <div class="start-test-container">
                <button id="start-test-btn" data-i18n="test.start">Begin Test</button>
            </div>
        </section>
        
        <!-- ÊµãËØïÂå∫Âüü -->
        <section class="test-area" id="test-area">
            <!-- ÊµãËØïÂ§¥ÈÉ® -->
            <div class="test-header">
                <div class="test-info">
                    <span class="question-counter"><span data-i18n="test.interface.question">Question</span> <span id="current-question">1</span> <span data-i18n="test.interface.of">/</span> <span id="total-questions">10</span></span>
                    <span class="difficulty-badge" id="test-difficulty"></span>
                </div>
                <div class="test-timer">
                    <span data-i18n="test.interface.timeRemaining">Time remaining</span>: <span id="timer">20:00</span>
                </div>
            </div>
            
            <!-- ÊµãËØïÂÜÖÂÆπ -->
            <div class="test-content">
                <div class="question-container" id="question-container">
                    <!-- ÈóÆÈ¢òÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÊèíÂÖ• -->
                </div>
                
                <!-- ÂØºËà™ÊåâÈíÆ -->
                <div class="test-navigation">
                    <button id="prev-question" disabled data-i18n="test.interface.previous">Previous</button>
                    <button id="next-question" data-i18n="test.interface.next">Next</button>
                    <button id="submit-test" style="display: none;" data-i18n="test.interface.submit">Submit Test</button>
                    <button id="restart-test" data-i18n="test.interface.restart">Restart Test</button>
                </div>
            </div>
            
            <!-- ÈóÆÈ¢òÂØºËà™ -->
            <div class="question-navigation">
                <h3 data-i18n="test.interface.questionNavigation">Question Navigation</h3>
                <div class="question-dots" id="question-dots">
                    <!-- ÈóÆÈ¢òÂØºËà™ÁÇπÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                </div>
            </div>
        </section>
        
        <!-- ÊµãËØïÁªìÊûú -->
        <section class="test-results" id="test-results">
            <h2 data-i18n="test.results.title">Test Results</h2>
            
            <div class="results-summary">
                <div class="score-display">
                    <div class="score-circle">
                        <span id="score-percentage">85%</span>
                    </div>
                    <div class="score-details">
                        <p><span data-i18n="test.results.score">Score</span>: <span id="score-value">17</span> / <span id="total-score">20</span></p>
                        <p><span data-i18n="test.results.timeUsed">Time used</span>: <span id="time-used">15:30</span></p>
                    </div>
                </div>
                
                <div class="performance-summary">
                    <h3 data-i18n="test.results.performanceSummary">Performance Summary</h3>
                    <p id="performance-text">You have a good understanding of quadratic equations and parabolas! You excelled in graph transformations, but there's room for improvement in equation solving.</p>
                </div>
            </div>
            
            <div class="results-details">
                <h3 data-i18n="test.results.detailedAnalysis">Detailed Analysis</h3>
                
                <table class="results-table">
                    <thead>
                        <tr>
                            <th data-i18n="test.results.questionNumber">Q#</th>
                            <th data-i18n="test.results.type">Type</th>
                            <th data-i18n="test.results.difficulty">Difficulty</th>
                            <th data-i18n="test.results.result">Result</th>
                            <th data-i18n="test.results.explanation">Explanation</th>
                        </tr>
                    </thead>
                    <tbody id="results-table-body">
                        <!-- ÁªìÊûúË°®Ê†ºÂ∞ÜÈÄöËøáJavaScriptÂä®ÊÄÅÁîüÊàê -->
                    </tbody>
                </table>
                
                <div class="topic-breakdown">
                    <h3 data-i18n="test.results.knowledgeMastery">Knowledge Mastery</h3>
                    <div class="topic-bars">
                        <div class="topic-bar">
                            <div class="topic-name" data-i18n="test.results.topics.basicConcepts">Basic Concepts</div>
                            <div class="progress-container">
                                <div class="progress-bar" style="width: 90%;">90%</div>
                            </div>
                        </div>
                        <div class="topic-bar">
                            <div class="topic-name" data-i18n="test.results.topics.graphTransformations">Graph Transformations</div>
                            <div class="progress-container">
                                <div class="progress-bar" style="width: 85%;">85%</div>
                            </div>
                        </div>
                        <div class="topic-bar">
                            <div class="topic-name" data-i18n="test.results.topics.equationSolving">Equation Solving</div>
                            <div class="progress-container">
                                <div class="progress-bar" style="width: 70%;">70%</div>
                            </div>
                        </div>
                        <div class="topic-bar">
                            <div class="topic-name" data-i18n="test.results.topics.appliedProblems">Applied Problems</div>
                            <div class="progress-container">
                                <div class="progress-bar" style="width: 75%;">75%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="recommendations">
                <h3 data-i18n="test.results.recommendations">Learning Recommendations</h3>
                <ul id="recommendations-list">
                    <li>Review methods for solving quadratic equations, especially using the discriminant.</li>
                    <li>Practice more applied problems to improve problem-solving skills.</li>
                    <li>Continue strengthening your knowledge of graph transformations, which is your strong point.</li>
                </ul>
            </div>
            
            <div class="action-buttons">
                <button id="review-test" data-i18n="test.results.reviewTest">Review Questions & Answers</button>
                <button id="retry-test" data-i18n="test.results.retryTest">Retake Test</button>
                <button id="share-results" data-i18n="test.results.shareResults">Share Results</button>
            </div>
        </section>
        
        <!-- È¢òÁõÆÊ®°ÊùøÔºà‰∏çÊòæÁ§∫Ôºå‰ªÖ‰Ωú‰∏∫ÂèÇËÄÉ‰ΩøÁî®Ôºâ -->
        <template id="question-templates">
            <!-- ÈÄâÊã©È¢òÊ®°Êùø -->
            <div class="question multiple-choice" data-type="multiple-choice">
                <h3 class="question-title">Which of the following is the vertex coordinate of the quadratic function f(x) = x¬≤ - 4x + 3?</h3>
                <div class="question-options">
                    <div class="option">
                        <input type="radio" id="q1_a" name="q1" value="A">
                        <label for="q1_a">A. (2, -1)</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q1_b" name="q1" value="B">
                        <label for="q1_b">B. (2, 1)</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q1_c" name="q1" value="C">
                        <label for="q1_c">C. (-2, 1)</label>
                    </div>
                    <div class="option">
                        <input type="radio" id="q1_d" name="q1" value="D">
                        <label for="q1_d">D. (-2, -1)</label>
                    </div>
                </div>
            </div>
            
            <!-- Â°´Á©∫È¢òÊ®°Êùø -->
            <div class="question fill-in-blank" data-type="fill-in-blank">
                <h3 class="question-title">The vertex coordinates of the quadratic function f(x) = 2x¬≤ - 8x + 9 are (______, ______).</h3>
                <div class="blank-inputs">
                    <input type="number" step="0.1" placeholder="x-coordinate">
                    <input type="number" step="0.1" placeholder="y-coordinate">
                </div>
            </div>
            
            <!-- ÂõæÂÉèÈ¢òÊ®°Êùø -->
            <div class="question graph-question" data-type="graph-question">
                <h3 class="question-title">Based on the parabola shown below, write the corresponding quadratic function expression.</h3>
                <div class="question-image">
                    <img src="../assets/images/test/test-parabola.jpg" alt="Parabola graph">
                </div>
                <div class="equation-input">
                    <span>f(x) = </span>
                    <input type="number" step="0.1" placeholder="a"> x¬≤ + 
                    <input type="number" step="0.1" placeholder="b"> x + 
                    <input type="number" step="0.1" placeholder="c">
                </div>
            </div>
        </template>
    </main>

    <!-- È°µËÑö -->
    <footer>
        <div class="footer-content">
            <div class="footer-contact">
                <h3 data-i18n="common.contact">Contact Us</h3>
                <p data-i18n="common.email">Email: contact@quadraticlearning.com</p>
            </div>
        </div>
        <div class="footer-bottom">
            <p data-i18n="common.copyright">¬© 2025 Quadratic Equations & Parabolas Interactive Learning. All rights reserved.</p>
            <p><a href="../common/privacy.html" data-i18n="common.privacy">Privacy Policy</a> | <a href="../common/terms.html" data-i18n="common.terms">Terms of Use</a></p>
        </div>
    </footer>

    <!-- JavaScript Êñá‰ª∂ -->
    <script src="../common/scripts/main.js"></script>
    <script src="../common/scripts/dark-mode.js"></script>
    <script src="scripts/test.js"></script>
    <!-- i18n ËÑöÊú¨Â∑≤Âú®head‰∏≠Âä†ËΩΩ -->
</body>
</html>